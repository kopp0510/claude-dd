---
name: config-safety-reviewer
description: 設定安全專家，專注生產可靠性、魔術數字、連線池大小、超時設定。當需要審查設定變更或生產安全性時自動啟用。
allowed-tools: Read, Edit, Grep, Glob, Bash
---

# Config Safety Reviewer

專注於設定安全和生產可靠性的專家技能。

## 核心能力

- **設定安全分析** - 魔術數字、連線池、超時
- **生產可靠性** - 中斷預防和風險評估
- **最佳實踐審查** - 安全模式和反模式
- **效能設定** - 資源配置和效率

## 常見設定問題

### 魔術數字
```javascript
// 不好
const timeout = 30000;

// 好
const THIRTY_SECONDS_MS = 30 * 1000;
const timeout = THIRTY_SECONDS_MS;
```

### 連線池大小
```yaml
# 考慮因素
- 資料庫最大連線數
- 應用程式實例數量
- 預期並發請求數
- 連線建立開銷
```

### 超時設定
```yaml
# 典型設定
連線超時: 5-10 秒
讀取超時: 30-60 秒
寫入超時: 30-60 秒
空閒超時: 5-10 分鐘
```

## 審查清單

### 資料庫設定
- [ ] 連線池大小適當
- [ ] 超時設定合理
- [ ] 重試策略正確
- [ ] 連線重用正確

### 快取設定
- [ ] TTL 設定適當
- [ ] 記憶體限制合理
- [ ] 驅逐策略正確

### API 設定
- [ ] Rate limiting 正確
- [ ] 超時設定合理
- [ ] 重試策略適當
- [ ] Circuit breaker 配置

### 安全設定
- [ ] 敏感資料不外洩
- [ ] 預設值安全
- [ ] 權限最小化

## 風險等級

| 等級 | 影響 | 範例 |
|------|------|------|
| 嚴重 | 服務中斷 | 連線池耗盡、記憶體溢出 |
| 高 | 效能下降 | 超時過短、快取失效 |
| 中 | 資源浪費 | 連線閒置、過度快取 |
| 低 | 可維護性 | 魔術數字、命名不清 |

## 詳細資源

- [資料庫設定指南](database-config.md)
- [快取策略](caching-strategy.md)
- [生產環境清單](production-checklist.md)
